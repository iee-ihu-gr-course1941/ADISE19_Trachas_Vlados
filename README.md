# ADISE19_Trachas_Vlados
# Team: Trachanas Georgios,Vladimiros Spiridis
# Project: UNO card game


# API:

/card_down/ ,GET, Επιστρέφει σε json, μέσω του πίνακα gamestatus, την τελευταία κάρτα που παίχτηκε και βρίσκεται κάτω στο board.

/hand/{p} , GET, Επιστρέφει σε json τα id των καρτών που έχει στο χέρι του ο παίκτης(p). Το p παίρνει ως τιμή το username που έδωσε ο χρήστης.

/draw/{p} , GET, Επιστρέφει σε json το id, τον αριθμό και το χρώμα της κάρτας,  το οποίο θα τραβήξει ο παιχτης(p) απο το deck. Το p παίρνει ως τιμή το username που έδωσε ο χρήστης.

/start_game/, POST, Προστίθενται τα values στον πίνακα deck ανακατεμένα. Η κάρτα με το position=0 θέτετε η πρώτη κάρτα που θα είναι στο board και οι πρώτες 14 κάρτες μοιράζονται αντίστοιχα(7 και 7) στους 2 players.

/play_card/{p}/{c}, POST, Αλλάζει το status της καρτας(c) που επαιξε ο παικτης(p) σε down, στον πίνακα deck, και κάνει update τον πινακα gamestatus στον οποίο προστίθεται το ποιος παικτης(played_by), επαιξε ποια καρτα(last_played) σε ποια χρονική στιγμή(last_changed). Το p παίρνει ως τιμή το username που έδωσε ο χρήστης και το c παίρνει ως τιμή το id της καρτας που έπαιξε.

/deck_ended/, POST, Κάνει reset τον πινακα deck βάζοντας την τελευταία κάρτα που παίχτηκε ως πρώτη στο deck. Έπειτα προσθέτει τις κάρτες που έχει ο κάθε χρήστης στο χέρι του, πρώτα του user1 και μετά του user2. Τέλος, ανακατεύει τις υπόλοιπες κάρτες που έχουν παιχτεί και τις ξανα προσθέτει στο deck.

/login/{p}/, PUT, Προσθέτει το username του παίκτη στον πίνακα gamestatus. Αν η θέση του user1 είναι κενή θα προστεθεί εκεί, αν η θέση δεν ειναι κενη θα προστεθεί στην θέση του user2. Αν ομως και οι δύο θέσεις έχουν τιμή τότε επιστρέφει “Error 400 No More Users Allowed”. Το p παίρνει ως τιμή το username που έδωσε ο χρήστης.

/end_game/, POST, Κάνει reset τον πίνακα gamestatus μηδενίζοντας τα πεδία για s_id = 0 και σβήνοντας όλα τα υπόλοιπα rows.

/opponent_hand/{p}, GET, Ανάλογα με το ποιός παίκτης έκανε το call πέρνει τα id των καρτών που βρίσκονται στο χέρι του άλλου παίκτη, τα μετράει και επιστρέφει σε json τον αριθμό. Το p παίρνει ως τιμή το username που έδωσε ο χρήστης.

/get_turn/, GET, Επιστρέφει σε json, μέσω του πίνακα gamestatus, ποιός παίκτης(1 ή 2) παίζει εκείνη την χρονική στιγμή.

/set_turn/{c}, POST, Θέτει την τιμή current_player στον πινακα gamestatus, δηλαδη ποιανού σειρά είναι, ανάλογα την κάρτα ή την πράξη του παίκτη που παίζει. Αν ο παίκτης παίξει κάρτα που απαγορεύει στον αλλον να παίξει ή αλλάζει την σειρά του παιχνιδιού τότε παίζει πάλι ο ίδιος, Αν ομως παίξει οποιαδήποτε άλλη κάρτα ή πάει πάσο τότε η σειρα πάει στον άλλο παίκτη. Το c παίρνει ως τιμή το id της καρτας που έπαιξε
